// Theme system for the annotation tool
// Provides color definitions for dark and light themes

export struct ColorTheme {
    // Background colors
    bg-dark: color,
    bg-medium: color,
    bg-light: color,
    bg-hover: color,

    // Accent colors
    accent-primary: color,
    accent-secondary: color,
    accent-warning: color,
    accent-danger: color,

    // Text colors
    text-primary: color,
    text-secondary: color,
    text-disabled: color,
    text-hint: color,

    // Annotation state colors
    pending: color,
    accepted: color,
    manual: color,
    rejected: color,
    selected: color,

    // Border and divider colors
    border-light: color,
    border-dark: color,
}

export global Theme {
    in-out property <ColorTheme> current: dark-theme;
    in-out property <string> theme-name: "dark";

    // Dark theme (primary)
    property <ColorTheme> dark-theme: {
        // Backgrounds
        bg-dark: #1e1e1e,
        bg-medium: #2d2d2d,
        bg-light: #3e3e3e,
        bg-hover: #4e4e4e,

        // Accents
        accent-primary: #007acc,
        accent-secondary: #4ec9b0,
        accent-warning: #ffd700,
        accent-danger: #f44747,

        // Text
        text-primary: #ffffff,
        text-secondary: #cccccc,
        text-disabled: #858585,
        text-hint: #6a9955,

        // Annotation states
        pending: #f7c948,
        accepted: #3ddc97,
        manual: #4ea1ff,
        rejected: #f44747,
        selected: #00ff00,

        // Borders
        border-light: #555555,
        border-dark: #1a1a1a,
    };

    // Light theme (secondary)
    property <ColorTheme> light-theme: {
        // Backgrounds
        bg-dark: #f8f8f8,      // Canvas background - light gray
        bg-medium: #e5e5e5,     // Menu/status bars - medium gray
        bg-light: #ffffff,      // Sidebar - white
        bg-hover: #d4d4d4,      // Hover state

        // Accents
        accent-primary: #0066cc,
        accent-secondary: #16825d,
        accent-warning: #c19c00,
        accent-danger: #d32f2f,

        // Text
        text-primary: #1e1e1e,
        text-secondary: #5e5e5e,
        text-disabled: #9e9e9e,
        text-hint: #4caf50,

        // Annotation states (adjusted for light background)
        pending: #e0a800,       // Darker yellow for visibility
        accepted: #2fb574,
        manual: #1a66c9,        // Darker blue
        rejected: #d32f2f,
        selected: #00aa00,      // Darker green

        // Borders
        border-light: #cccccc,
        border-dark: #999999,
    };

    // Function to switch themes
    public function set-theme(name: string) {
        if (name == "light") {
            current = light-theme;
            theme-name = "light";
        } else {
            current = dark-theme;
            theme-name = "dark";
        }
    }
}
